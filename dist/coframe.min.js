var Coframe;(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>f});const n=1e4;let o=null,a=!1,r=!1,i=!0,s=[];async function c(e){e.session_ids=s;try{return(await fetch("https://coframe.ai/api/v1/session_result",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}catch(e){console.error("Failed to send data:",e)}}function d(){const e=new Date-o;e>=n?(a=!0,c({engagement:!0})):setTimeout(d,n-e)}function l(){r=!0,i=!1,c({conversion:!0})}function u(){i&&c({bounced:!0})}const f={initCoframe:async function(e){o=new Date,window.addEventListener("beforeunload",u),document.addEventListener("visibilitychange",d),document.addEventListener("conversion",l),setTimeout(d,n);const t=await async function(e,t,n,o){return(await fetch("https://coframe.ai/api/v1/retrieve_variants_page",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({coframe_page_id:e,time:t,navigator:void 0,referrer:void 0})})).json()}(e,o),a=t.variants;s=t.session_ids,a.forEach((({original:e,copy:t})=>{!function(e,t){const n=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,null,!1),o=new RegExp(e,"g");let a;for(;a=n.nextNode();)a.parentElement&&"script"!==a.parentElement.tagName.toLowerCase()&&(a.textContent=a.textContent.replace(o,t))}(e,t)}))},logCoframeConversion:function(){document.dispatchEvent(new CustomEvent("conversion",{}))}};Coframe=t})();